<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="utf-8" />
    <title>event.conf &#8212; Palantiri v0.4 Manual</title>
    <link rel="stylesheet" href="../_static/pydoctheme.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/sidebar.js"></script>
    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="syn.conf" href="synthetic.html" />
    <link rel="prev" title="global.conf" href="global.html" />
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <link rel="shortcut icon" type="image/png" href="../_static/favicon.png" />
    <meta name="viewport" content="width=device-width,initial-scale=0.8">
    
    
    
    <script type="text/javascript" src="../_static/jquery.gifplayer.js"></script>
    <link rel="stylesheet" type="text/css" href="../_static/gifplayer.css">
    <!-- Piwik -->
    <script type="text/javascript">
      var _paq = _paq || [];
      /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
      _paq.push(['trackPageView']);
      _paq.push(['enableLinkTracking']);
      (function() {
        var u="//pyrocko.org/pwk/";
        _paq.push(['setTrackerUrl', u+'piwik.php']);
        _paq.push(['setSiteId', '1']);
        var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
        g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
      })();
    </script>
    <noscript>
    <img src="https://pyrocko.org/pwk/piwik.php?idsite=1&rec=1" style="border:0" alt="" />
    </noscript>

  </head><body>

    <div class="related">
      <h3>Navigation</h3>
        <ul>
          <li class="responsive-menu"><a href="#sidebar-anchor" title="Navigation">&#9776;</a></li>
          <li>
            <img src='https://git.pyrocko.org/repo-avatars/13' class='pyrocko-button' onclick="window.location = https://git.pyrocko.org/asteinbe/Palantiri';">
          </li>
           &#187;
          <li>
              <a href="../index.html">Palantiri v0.4 Manual</a> &#187;
          </li>
            <li><a href="index.html" accesskey="U">Configuration</a> &#187;</li> 
        </ul>
    </div>
    

  

    <div class="document">
      <div class="documentwrapper">
          <div class="body" role="main">
            
  <div class="section" id="event-conf">
<h1>event.conf<a class="headerlink" href="#event-conf" title="Permalink to this headline">¶</a></h1>
<p>Secondly, event dependent options can be changed in the config file (eventname.config) of the event in the eventfolder, which will be created after step 2.
Please make sure to investigate this configuration file closely before further processing.</p>
<p>And lastly, synthetic sources can be specified in the syn config file (eventname.syn) in the eventfolder, also created after step 2. A user definded number of
RectangularSources or DoubleCouble sources can used to create synthetic data with free user input of the source parameters.
See the pyrocko documentation for details about the sources. This configuration file also contains paths to greensfunction stores.</p>
<p>The main event configuration file is created when the palantiri_create command is called.</p>
<p>The main event configuration file is separated in several sub sections.</p>
<div class="section" id="clusterparameter">
<h2>Clusterparameter<a class="headerlink" href="#clusterparameter" title="Permalink to this headline">¶</a></h2>
<p>The first subsection, [clusterparameter],  defines the parameters describing the cluster algorithm:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">clusterparameter</span><span class="p">]</span>

<span class="n">The</span> <span class="n">following</span> <span class="n">parameter</span> <span class="n">described</span> <span class="n">the</span> <span class="n">maximum</span> <span class="n">number</span> <span class="n">of</span> <span class="n">desired</span> <span class="n">array</span> <span class="n">clusters</span> <span class="n">that</span> <span class="n">should</span> <span class="n">be</span> <span class="n">optimized</span> <span class="k">for</span><span class="o">.</span>
<span class="n">Note</span> <span class="n">that</span> <span class="n">the</span> <span class="n">actual</span> <span class="n">number</span> <span class="n">will</span> <span class="n">vary</span> <span class="kn">from</span> <span class="nn">this.</span>
<span class="n">maxCluster</span> <span class="o">=</span> <span class="mi">100</span>

<span class="n">The</span> <span class="n">number</span> <span class="n">of</span> <span class="n">the</span> <span class="n">minimum</span> <span class="n">number</span> <span class="n">of</span> <span class="n">stations</span> <span class="ow">in</span> <span class="n">initial</span> <span class="n">clusters</span> <span class="p">(</span><span class="n">should</span> <span class="n">be</span> <span class="n">higher</span> <span class="n">than</span> <span class="n">the</span> <span class="n">desired</span> <span class="n">minimum</span> <span class="n">number</span> <span class="n">of</span> <span class="n">stations</span> <span class="n">per</span> <span class="n">array</span><span class="p">)</span>
<span class="n">minStationAroundInitialCluster</span> <span class="o">=</span> <span class="mi">10</span>

<span class="n">The</span> <span class="n">distance</span> <span class="n">which</span> <span class="ow">is</span> <span class="n">used</span> <span class="n">initially</span> <span class="n">to</span> <span class="n">gather</span> <span class="n">stations</span> <span class="ow">in</span> <span class="n">an</span> <span class="n">array</span><span class="o">.</span> <span class="n">The</span> <span class="n">final</span> <span class="n">minimum</span> <span class="n">array</span> <span class="n">aperture</span> <span class="n">will</span> <span class="ow">not</span> <span class="n">depend</span> <span class="n">on</span> <span class="n">this</span><span class="o">.</span> <span class="n">It</span> <span class="n">should</span> <span class="n">be</span>  <span class="n">approximately</span> <span class="mi">2</span><span class="n">x</span> <span class="n">times</span> <span class="n">the</span> <span class="n">desired</span> <span class="n">minimum</span> <span class="n">array</span> <span class="n">aperture</span><span class="o">.</span>
<span class="n">initialstationdistance</span> <span class="o">=</span> <span class="mi">7</span>

<span class="n">Cutoff</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">hard</span> <span class="k">break</span> <span class="n">option</span> <span class="ow">in</span> <span class="n">number</span> <span class="n">of</span> <span class="n">iterations</span> <span class="k">for</span> <span class="n">the</span> <span class="n">clustering</span> <span class="n">algorithm</span><span class="o">.</span>
<span class="n">cutoff</span> <span class="o">=</span> <span class="mi">100</span>
<span class="n">runs</span> <span class="n">defines</span> <span class="n">the</span> <span class="n">number</span> <span class="n">of</span> <span class="n">times</span> <span class="n">the</span> <span class="n">clustering</span> <span class="n">algorithm</span> <span class="ow">is</span> <span class="n">applied</span><span class="o">.</span>
<span class="n">The</span> <span class="n">final</span> <span class="n">cluster</span> <span class="n">setup</span> <span class="n">to</span> <span class="n">be</span> <span class="n">used</span> <span class="n">will</span> <span class="n">be</span> <span class="n">the</span> <span class="n">one</span> <span class="n">that</span> <span class="n">performs</span> <span class="n">best</span> <span class="ow">in</span> <span class="n">terms</span> <span class="n">of</span> <span class="n">maximized</span> <span class="n">number</span> <span class="n">of</span> <span class="n">stations</span> <span class="ow">and</span> <span class="n">clusters</span> <span class="n">used</span> <span class="kn">from</span> <span class="nn">all</span> <span class="n">runs</span><span class="o">.</span>
<span class="n">runs</span> <span class="o">=</span> <span class="mi">1</span>

<span class="n">This</span> <span class="n">defines</span> <span class="n">the</span> <span class="n">minimum</span> <span class="n">distance</span> <span class="n">of</span> <span class="n">initial</span> <span class="n">seach</span> <span class="n">centroids</span> <span class="p">[</span><span class="ow">in</span> <span class="n">degree</span><span class="p">]</span><span class="o">.</span> <span class="n">Larger</span> <span class="n">numbers</span> <span class="n">means</span> <span class="n">that</span> <span class="n">less</span> <span class="n">search</span> <span class="n">centroids</span> <span class="n">are</span> <span class="n">spawned</span><span class="o">.</span> <span class="n">This</span> <span class="n">results</span> <span class="ow">in</span> <span class="n">more</span> <span class="n">distance</span> <span class="n">between</span> <span class="n">arrays</span><span class="o">.</span>
<span class="n">centroidminDistance</span> <span class="o">=</span> <span class="mi">2</span>

<span class="n">The</span> <span class="n">maximum</span> <span class="n">distance</span> <span class="kn">from</span> <span class="nn">station</span> <span class="n">to</span> <span class="n">cluster</span> <span class="n">center</span> <span class="p">(</span><span class="n">maximum</span> <span class="n">array</span> <span class="n">aperture</span><span class="p">)</span>
<span class="n">stationdistance</span> <span class="o">=</span> <span class="mi">5</span>
<span class="n">The</span> <span class="n">minimum</span> <span class="n">number</span> <span class="n">of</span> <span class="n">stations</span> <span class="n">per</span> <span class="n">cluster</span>
<span class="n">minClusterStation</span> <span class="o">=</span> <span class="mi">5</span>
</pre></div>
</div>
</div>
<div class="section" id="traveltime-calculation-options">
<h2>traveltime calculation options<a class="headerlink" href="#traveltime-calculation-options" title="Permalink to this headline">¶</a></h2>
<p>The next chapter in the configuration file is for traveltime definitions and traveltime grid calculations:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">traveltime</span> <span class="n">calculation</span> <span class="n">options</span><span class="p">]</span>

<span class="n">traveltime_model</span> <span class="o">=</span> <span class="n">ak135</span><span class="o">-</span><span class="n">f</span><span class="o">-</span><span class="n">continental</span><span class="o">.</span><span class="n">m</span><span class="o">.</span><span class="n">nd</span>
<span class="c1">#number of cores for traveltime calculation</span>
<span class="n">ncore</span> <span class="o">=</span> <span class="mi">2</span>

<span class="c1">#depths= Repeat semblance calculation from,to,steps relative to depth in origin config</span>
<span class="n">depths</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">5</span>
<span class="c1"># run each depth step with a number of filter(s), used for high vs. low freq.</span>
<span class="n">filters</span><span class="o">=</span><span class="mi">2</span>

<span class="c1"># dimx of grid</span>
<span class="n">dimx</span> <span class="o">=</span> <span class="mi">20</span>
<span class="c1"># dimy of grid</span>
<span class="n">dimy</span> <span class="o">=</span> <span class="mi">20</span>

<span class="kc">True</span> <span class="ow">or</span> <span class="n">false</span><span class="o">.</span> <span class="n">The</span> <span class="n">traveltimes</span> <span class="ow">and</span> <span class="n">the</span> <span class="n">semblance</span> <span class="n">will</span> <span class="n">be</span> <span class="n">calculated</span> <span class="ow">in</span> <span class="n">a</span> <span class="n">cube</span><span class="o">.</span> <span class="n">The</span> <span class="n">parameter</span> <span class="k">for</span> <span class="n">the</span> <span class="n">minimum</span> <span class="ow">and</span> <span class="n">maximum</span> <span class="n">depth</span> <span class="ow">and</span> <span class="n">step</span> <span class="n">size</span> <span class="n">are</span> <span class="n">given</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">depths</span> <span class="n">parameter</span><span class="o">.</span>
<span class="n">dimz</span><span class="o">=</span> <span class="mi">0</span>

<span class="c1"># gridspacing in degree</span>
<span class="n">gridspacing</span> <span class="o">=</span> <span class="mf">0.035</span>
<span class="c1"># Phase to consider [right now only P possible!]</span>
<span class="n">ttphases</span><span class="o">=</span><span class="n">P</span>

<span class="n">futterman_attenuation</span> <span class="o">=</span> <span class="mi">0</span>
</pre></div>
</div>
</div>
<div class="section" id="traveltime-corrections">
<h2>Traveltime corrections<a class="headerlink" href="#traveltime-corrections" title="Permalink to this headline">¶</a></h2>
<p>traveltime correction options:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">Traveltime</span> <span class="n">corrections</span><span class="p">]</span>

<span class="n">Whether</span> <span class="n">to</span> <span class="n">apply</span> <span class="n">shifts</span> <span class="ow">or</span> <span class="ow">not</span><span class="o">.</span> <span class="n">Can</span> <span class="n">be</span> <span class="n">independent</span> <span class="kn">from</span> <span class="nn">the</span> <span class="n">run</span> <span class="n">to</span> <span class="n">calculate</span> <span class="n">the</span> <span class="n">shifts</span><span class="o">.</span>
<span class="n">correct_shifts</span> <span class="o">=</span> <span class="mi">0</span>

<span class="n">Set</span> <span class="n">true</span> <span class="k">if</span> <span class="n">you</span> <span class="n">wish</span> <span class="n">to</span> <span class="n">calculate</span> <span class="n">the</span> <span class="n">empirical</span> <span class="n">shifts</span> <span class="ow">or</span> <span class="k">if</span> <span class="n">you</span> <span class="n">want</span> <span class="n">to</span> <span class="n">load</span> <span class="ow">in</span> <span class="n">already</span> <span class="n">calculated</span> <span class="n">shifts</span><span class="o">.</span>
<span class="n">correct_shifts_empirical_run</span> <span class="o">=</span> <span class="mi">0</span>

<span class="n">Use</span> <span class="n">empirical</span> <span class="n">shift</span> <span class="kn">from</span> <span class="nn">fore</span> <span class="ow">or</span> <span class="n">aftershock</span> <span class="ow">or</span> <span class="n">calculate</span> <span class="n">shifts</span> <span class="n">based</span> <span class="n">on</span> <span class="n">maximizing</span> <span class="n">the</span> <span class="n">correlation</span> <span class="p">[</span><span class="n">default</span><span class="p">]</span><span class="o">.</span>
<span class="n">correct_shifts_empirical</span> <span class="o">=</span> <span class="mi">0</span>

<span class="n">Load</span> <span class="ow">in</span> <span class="n">a</span> <span class="n">manual</span> <span class="n">file</span>
<span class="n">correct_shifts_empirical_manual</span> <span class="o">=</span> <span class="mi">0</span>

<span class="n">Calculate</span> <span class="n">the</span> <span class="n">empirical</span> <span class="n">shifts</span> <span class="n">per</span> <span class="n">array</span> <span class="p">(</span><span class="n">faster</span><span class="p">,</span> <span class="n">default</span><span class="p">)</span> <span class="ow">or</span> <span class="k">for</span> <span class="n">each</span> <span class="n">station</span> <span class="n">individually</span><span class="o">.</span>
<span class="n">correct_shifts_empirical_manual_station_wise</span> <span class="o">=</span> <span class="mi">0</span>

<span class="n">Use</span> <span class="n">synthetic</span> <span class="ow">or</span> <span class="n">real</span> <span class="n">event</span> <span class="p">[</span><span class="n">default</span><span class="p">]:</span>
<span class="n">correct_shifts_empirical_synthetic</span><span class="o">=</span><span class="mi">0</span>

<span class="c1"># dimx of grid for empirical correction (should be the same as for the main process in most cases)</span>
<span class="n">dimx_emp</span> <span class="o">=</span> <span class="mi">1</span>
<span class="c1"># dimy of grid (should be the same as for the main process in most cases)</span>
<span class="n">dimy_emp</span> <span class="o">=</span> <span class="mi">1</span>
<span class="c1"># step length in s.</span>
<span class="n">step_emp</span> <span class="o">=</span> <span class="mi">16</span>
<span class="c1"># window length in s.</span>
<span class="n">winlen_emp</span> <span class="o">=</span> <span class="mi">16</span>
<span class="n">the</span> <span class="n">duration</span> <span class="n">of</span> <span class="n">the</span> <span class="n">waveform</span> <span class="ow">in</span> <span class="p">[</span><span class="n">s</span><span class="p">]</span> <span class="n">after</span> <span class="n">the</span> <span class="n">theoretical</span> <span class="n">onset</span> <span class="n">of</span> <span class="n">the</span> <span class="n">specified</span> <span class="n">phase</span>
<span class="n">duration_emp</span> <span class="o">=</span> <span class="mi">8</span>
<span class="n">the</span> <span class="n">duration</span> <span class="n">of</span> <span class="n">the</span> <span class="n">waveform</span> <span class="ow">in</span> <span class="p">[</span><span class="n">s</span><span class="p">]</span> <span class="n">before</span> <span class="n">the</span> <span class="n">theoretical</span> <span class="n">onset</span> <span class="n">of</span> <span class="n">the</span> <span class="n">specified</span> <span class="n">phase</span>
<span class="n">forerun_emp</span> <span class="o">=</span> <span class="mi">8</span>
</pre></div>
</div>
</div>
<div class="section" id="beamforming-method">
<h2>Beamforming method<a class="headerlink" href="#beamforming-method" title="Permalink to this headline">¶</a></h2>
<p>Several methods for the backprojection are possible: 1. traditional (capon) beamforming
2. coherence based stacking (bp_coh), 3. phase weighted stacking (pws), 4. stacking in the frequency domain (bp_freq),
5. music (bp_music).
Compressed sensing is only partly supported right now.</p>
<p>Select the method for Backprojection in the following section:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">beamforming</span> <span class="n">method</span><span class="p">]</span>

<span class="c1">#delaysum</span>
<span class="c1">#capon</span>
<span class="n">beam</span> <span class="o">=</span> <span class="n">delaysum</span>

<span class="n">bp_freq</span><span class="o">=</span> <span class="mi">0</span>
<span class="n">bp_coh</span><span class="o">=</span> <span class="mi">0</span>
<span class="n">bp_music</span> <span class="o">=</span> <span class="mi">0</span>

<span class="c1"># use a phase weighted stacking</span>
<span class="n">shift_by_phase_pws</span> <span class="o">=</span> <span class="mi">0</span>

<span class="c1"># create output of compressed sensing as grid [warning: experimental]</span>
<span class="n">cs</span> <span class="o">=</span> <span class="mi">0</span>
</pre></div>
</div>
</div>
<div class="section" id="algorithm-settings">
<h2>Algorithm settings<a class="headerlink" href="#algorithm-settings" title="Permalink to this headline">¶</a></h2>
<p>Define general settings:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">algorithm</span> <span class="n">settings</span><span class="p">]</span>

<span class="n">weight_by_noise</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">weight_by_azimuth</span> <span class="o">=</span> <span class="mi">0</span>
<span class="c1"># bootstrap the arrays to estimate the uncertainty:</span>
<span class="n">bootstrap_array_weights</span> <span class="o">=</span> <span class="mi">0</span>
<span class="c1"># number of bootstraps to carry out:</span>
<span class="n">n_bootstrap</span> <span class="o">=</span> <span class="mi">0</span>

<span class="n">Use</span> <span class="n">arrays</span> <span class="n">separately</span> <span class="p">[</span><span class="n">default</span><span class="p">]</span> <span class="ow">or</span> <span class="nb">all</span> <span class="ow">in</span> <span class="n">one</span> <span class="n">big</span> <span class="n">step</span><span class="p">:</span>
<span class="n">combine_all</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">Normalize</span> <span class="n">the</span> <span class="n">semblance</span> <span class="n">of</span> <span class="n">each</span> <span class="n">array</span> <span class="n">to</span> <span class="mf">1.</span>
<span class="n">norm_all</span><span class="o">=</span><span class="mi">1</span>
</pre></div>
</div>
</div>
<div class="section" id="general-settings">
<h2>General settings<a class="headerlink" href="#general-settings" title="Permalink to this headline">¶</a></h2>
<p>Define general settings:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">general</span> <span class="n">parameter</span><span class="p">]</span>

<span class="c1"># min distance to origin of stations</span>
<span class="n">minDist</span> <span class="o">=</span> <span class="mi">2</span>
<span class="c1"># max distance to origin of stations</span>
<span class="n">maxDist</span> <span class="o">=</span> <span class="mi">93</span>
<span class="c1"># if download of was done with palantiri_down command, set to 1</span>
<span class="n">pyrocko_download</span> <span class="o">=</span> <span class="mi">1</span>
<span class="c1"># if download with pyrocko was done you can choose between velocity and displacement</span>
<span class="n">quantity</span> <span class="o">=</span> <span class="n">velocity</span>
<span class="n">Calculate</span> <span class="ow">and</span> <span class="n">plot</span> <span class="n">the</span> <span class="n">array</span> <span class="n">response</span> <span class="n">of</span> <span class="n">each</span> <span class="n">array</span><span class="o">.</span>
<span class="n">array_response</span> <span class="o">=</span> <span class="mi">0</span>

<span class="n">Visualize</span> <span class="n">the</span> <span class="n">semblance</span> <span class="n">after</span> <span class="n">the</span> <span class="n">calculation</span> <span class="k">for</span> <span class="n">direct</span> <span class="n">inspection</span>
<span class="n">inspect_semb</span> <span class="o">=</span> <span class="mi">0</span>


<span class="p">[</span><span class="n">Synthetic</span> <span class="n">Test</span><span class="p">]</span>

<span class="c1"># do a synthetic test with a real station distribution, specify the</span>
<span class="c1"># parameters in eventfolder with event.syn</span>
<span class="n">synthetic_test</span> <span class="o">=</span> <span class="mi">1</span>
<span class="c1"># add noise to the synthetic, based on the variance of the real station</span>
<span class="c1"># covariance of noise not enabled right now</span>
<span class="n">synthetic_test_add_noise</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">synthetic_test_pertub_arrivals</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">shift_max</span> <span class="o">=</span> <span class="mi">10</span>
<span class="c1"># if colosseo synthetics should be used, set to 1</span>
<span class="n">colesseo_input</span> <span class="o">=</span> <span class="mi">0</span>
<span class="c1"># give the colosseo scenario.yml file</span>
<span class="n">colosseo_scenario_yml</span> <span class="o">=</span> <span class="o">/</span><span class="n">media</span><span class="o">/</span><span class="n">asteinbe</span><span class="o">/</span><span class="n">data</span><span class="o">/</span><span class="n">asteinbe</span><span class="o">/</span><span class="n">mydl</span><span class="o">/</span><span class="n">scenario</span><span class="o">.</span><span class="n">yml</span>


<span class="p">[</span><span class="n">Filter</span> <span class="ow">and</span> <span class="n">time</span> <span class="n">window</span> <span class="n">settings</span><span class="p">]</span>

<span class="c1"># step length in s.</span>
<span class="n">step</span> <span class="o">=</span> <span class="mi">6</span>
<span class="c1"># window length in s.</span>
<span class="n">winlen</span> <span class="o">=</span> <span class="mi">12</span>
<span class="c1"># step length in s.</span>
<span class="n">step_f2</span> <span class="o">=</span> <span class="mi">10</span>
<span class="c1"># window length in s.</span>
<span class="n">winlen_f2</span> <span class="o">=</span> <span class="mi">20</span>
<span class="c1"># length of data before phase onset in s.</span>
<span class="n">forerun</span> <span class="o">=</span> <span class="mi">10</span>
<span class="c1"># length of data after phase onset in s.</span>
<span class="n">duration</span> <span class="o">=</span> <span class="mi">40</span>
<span class="c1"># resampling data to frequency in Hz or s, should match your gf store</span>
<span class="n">new_frequence</span> <span class="o">=</span> <span class="mf">0.5</span>


<span class="p">[</span><span class="n">Manual</span> <span class="n">shifting</span><span class="p">]</span>

<span class="c1"># shift the traces to theoretical onset</span>
<span class="n">shift_by_phase_onset</span> <span class="o">=</span> <span class="mi">0</span>
<span class="c1"># shift by crosscorrelation</span>
<span class="n">shift_by_phase_cc</span> <span class="o">=</span> <span class="mi">0</span>


<span class="p">[</span><span class="n">Optimization</span><span class="p">]</span>


<span class="c1"># Optimize for pyrocko sources with array responses as input with the semblance(all)</span>
<span class="n">optimize</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">optimize_all</span> <span class="o">=</span> <span class="mi">0</span>

<span class="p">[</span><span class="n">focal</span> <span class="n">mechanism</span> <span class="n">solution</span> <span class="n">values</span> <span class="kn">from</span> <span class="nn">event</span> <span class="n">file</span><span class="p">]</span>
<span class="c1">#only = 1 possible</span>
<span class="n">fm</span> <span class="o">=</span> <span class="mi">1</span>

<span class="p">[</span><span class="n">xcorrskript</span> <span class="n">parameter</span><span class="p">]</span>

<span class="n">xcorr</span><span class="o">=</span><span class="mi">0</span>
<span class="c1"># for manual qc set autoxcorrcorrectur to 1:</span>
<span class="n">autoxcorrcorrectur</span> <span class="o">=</span> <span class="mi">0</span>
<span class="c1"># crosscorrelation threshold for excluding stations</span>
<span class="n">xcorrtreshold</span> <span class="o">=</span> <span class="mf">0.6</span>

<span class="c1">#filter for referencestation for automatic picker</span>
<span class="c1">#should match your filter</span>
<span class="n">refstationfreqmin</span><span class="o">=</span><span class="mf">0.03</span>
<span class="n">refstationfreqmax</span><span class="o">=</span><span class="mf">0.08</span>
<span class="n">refstationcorners</span><span class="o">=</span><span class="mi">2</span>
<span class="n">refstationzph</span><span class="o">=</span><span class="n">false</span>

<span class="c1">#STA/LTA parameter</span>
<span class="n">refsta</span><span class="o">=</span><span class="mf">0.5</span>
<span class="n">reflta</span><span class="o">=</span><span class="mi">4</span>


<span class="p">[</span><span class="n">filterparameter</span><span class="p">]</span>

<span class="n">filterswitch</span><span class="o">=</span><span class="mi">1</span>
<span class="n">Calculate</span> <span class="n">the</span> <span class="n">filters</span> <span class="n">based</span> <span class="n">on</span> <span class="n">the</span> <span class="n">estimated</span> <span class="n">corner</span> <span class="n">frequency</span><span class="o">.</span> <span class="n">The</span> <span class="n">source</span> <span class="n">parameters</span> <span class="n">need</span> <span class="n">to</span> <span class="n">be</span> <span class="n">defined</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">event</span> <span class="n">config</span> <span class="n">file</span><span class="o">.</span>
<span class="n">dynamic_filter</span> <span class="o">=</span> <span class="mi">0</span>

<span class="c1">###############################################################</span>
<span class="c1">#Parameter for first filter</span>
<span class="c1">#bp butterworth</span>

<span class="c1"># low cut corner frequency</span>
<span class="n">flo</span> <span class="o">=</span> <span class="mf">0.1</span>

<span class="c1"># high cut corner frequency</span>
<span class="n">fhi</span> <span class="o">=</span> <span class="mf">0.24</span>

<span class="c1"># number of filter sections</span>
<span class="n">ns</span> <span class="o">=</span> <span class="mi">4</span>

<span class="c1"># TRUE -&gt; zero phase filter</span>
<span class="n">zph</span> <span class="o">=</span> <span class="n">false</span>


<span class="c1">###############################################################</span>
<span class="c1">#Example Parameter for a second filter</span>
<span class="c1">#bp butterworth</span>

<span class="c1"># low cut corner frequency</span>
<span class="n">flo2</span> <span class="o">=</span> <span class="mf">0.03</span>

<span class="c1"># high cut corner frequency</span>
<span class="n">fhi2</span> <span class="o">=</span> <span class="mf">0.24</span>

<span class="c1"># number of filter sections</span>
<span class="n">ns2</span> <span class="o">=</span> <span class="mi">4</span>

<span class="c1"># TRUE -&gt; zero phase filter</span>
<span class="n">zph2</span> <span class="o">=</span> <span class="n">false</span>


<span class="p">[</span><span class="n">array</span> <span class="n">parameter</span><span class="p">]</span>
<span class="n">Here</span> <span class="n">follow</span> <span class="nb">all</span> <span class="n">the</span> <span class="n">arrays</span><span class="o">.</span> <span class="n">This</span> <span class="n">will</span> <span class="n">be</span> <span class="n">updated</span> <span class="n">by</span> <span class="n">the</span> <span class="n">cluster</span> <span class="n">algorithm</span><span class="o">.</span>

<span class="n">networks</span><span class="o">=</span><span class="n">r1</span><span class="p">,</span><span class="n">r2</span>
<span class="n">r1</span><span class="o">=</span><span class="n">XK</span><span class="o">.</span><span class="n">B03SL</span><span class="o">..</span><span class="n">BHZ</span><span class="o">|</span><span class="n">XK</span><span class="o">.</span><span class="n">B04KH</span><span class="o">..</span><span class="n">BHZ</span><span class="o">|</span><span class="n">XK</span><span class="o">.</span><span class="n">B05MO</span><span class="o">..</span><span class="n">BHZ</span><span class="o">|</span><span class="n">XK</span><span class="o">.</span><span class="n">B06OR</span><span class="o">..</span><span class="n">BHZ</span><span class="o">|</span><span class="n">XK</span><span class="o">.</span><span class="n">B07DX</span><span class="o">..</span><span class="n">BHZ</span><span class="o">|</span><span class="n">XK</span><span class="o">.</span><span class="n">B08TS</span><span class="o">..</span><span class="n">BHZ</span><span class="o">|</span><span class="n">XK</span><span class="o">.</span><span class="n">B09NK</span><span class="o">..</span><span class="n">BHZ</span><span class="o">|</span><span class="n">XK</span><span class="o">.</span><span class="n">B10PP</span><span class="o">..</span><span class="n">BHZ</span><span class="o">|</span><span class="n">XK</span><span class="o">.</span><span class="n">B11ET</span><span class="o">..</span><span class="n">BHZ</span><span class="o">|</span><span class="n">XK</span><span class="o">.</span><span class="n">B12SS</span><span class="o">..</span><span class="n">BHZ</span><span class="o">|</span><span class="n">XK</span><span class="o">.</span><span class="n">B13NX</span><span class="o">..</span><span class="n">BHZ</span><span class="o">|</span><span class="n">XK</span><span class="o">.</span><span class="n">B14MH</span><span class="o">..</span><span class="n">BHZ</span><span class="o">|</span><span class="n">XK</span><span class="o">.</span><span class="n">B15MW</span><span class="o">..</span><span class="n">BHZ</span><span class="o">|</span><span class="n">XK</span><span class="o">.</span><span class="n">B17CI</span><span class="o">..</span><span class="n">BHZ</span>
<span class="n">r1refstation</span><span class="o">=</span>
<span class="n">r1phase</span><span class="o">=</span><span class="n">P</span>
<span class="n">r2</span><span class="o">=</span><span class="n">NM</span><span class="o">.</span><span class="n">OLIL</span><span class="o">..</span><span class="n">BHZ</span><span class="o">|</span><span class="n">PN</span><span class="o">.</span><span class="n">PPCWF</span><span class="o">..</span><span class="n">BHZ</span><span class="o">|</span><span class="n">TA</span><span class="o">.</span><span class="n">O44A</span><span class="o">..</span><span class="n">BHZ</span><span class="o">|</span><span class="n">TA</span><span class="o">.</span><span class="n">O45A</span><span class="o">..</span><span class="n">BHZ</span><span class="o">|</span><span class="n">TA</span><span class="o">.</span><span class="n">P43A</span><span class="o">..</span><span class="n">BHZ</span><span class="o">|</span><span class="n">TA</span><span class="o">.</span><span class="n">P44A</span><span class="o">..</span><span class="n">BHZ</span><span class="o">|</span><span class="n">TA</span><span class="o">.</span><span class="n">P45A</span><span class="o">..</span><span class="n">BHZ</span><span class="o">|</span><span class="n">TA</span><span class="o">.</span><span class="n">P46A</span><span class="o">..</span><span class="n">BHZ</span><span class="o">|</span><span class="n">TA</span><span class="o">.</span><span class="n">Q43A</span><span class="o">..</span><span class="n">BHZ</span><span class="o">|</span><span class="n">TA</span><span class="o">.</span><span class="n">Q44A</span><span class="o">..</span><span class="n">BHZ</span><span class="o">|</span><span class="n">TA</span><span class="o">.</span><span class="n">Q45A</span><span class="o">..</span><span class="n">BHZ</span><span class="o">|</span><span class="n">TA</span><span class="o">.</span><span class="n">Q46A</span><span class="o">..</span><span class="n">BHZ</span><span class="o">|</span><span class="n">TA</span><span class="o">.</span><span class="n">R45A</span><span class="o">..</span><span class="n">BHZ</span><span class="o">|</span><span class="n">XO</span><span class="o">.</span><span class="n">LA19</span><span class="o">..</span><span class="n">BHZ</span><span class="o">|</span><span class="n">XO</span><span class="o">.</span><span class="n">LA21</span><span class="o">..</span><span class="n">BHZ</span><span class="o">|</span><span class="n">XO</span><span class="o">.</span><span class="n">LB20</span><span class="o">..</span><span class="n">BHZ</span><span class="o">|</span><span class="n">XO</span><span class="o">.</span><span class="n">LB22</span><span class="o">..</span><span class="n">BHZ</span>
<span class="n">r2refstation</span><span class="o">=</span>
<span class="n">r2phase</span><span class="o">=</span><span class="n">P</span>
</pre></div>
</div>
</div>
</div>


          </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
    &nbsp;
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="synthetic.html" title="syn.conf"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="global.html" title="global.conf"
             accesskey="P">previous</a> |</li>
      </ul>
    </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2019, The Palantiri Developers.
    </div>
  </body>
</html>